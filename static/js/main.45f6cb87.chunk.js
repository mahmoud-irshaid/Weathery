(this.webpackJsonpweathery=this.webpackJsonpweathery||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(14),r=n.n(i),s=n(3),d=n.p+"static/media/gps.842bf24c.svg",o=n(0);var m=function(e){var t=e.findCity,n=e.citySearch,c=e.getLocation,a=e.forwardedRef;return Object(o.jsx)("form",{onSubmit:t,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",onChange:n,placeholder:"country name",ref:a}),Object(o.jsx)("input",{type:"submit"}),Object(o.jsx)("button",{onClick:c,children:Object(o.jsx)("img",{src:d,className:"subSvg"})})]})})},l=n.p+"static/media/01d.c33ef664.svg",u=n.p+"static/media/01n.6cf4adcd.svg",h=n.p+"static/media/02d.2164d3c4.svg",j=n.p+"static/media/02n.e2327d50.svg",b=n.p+"static/media/03d.6203670e.svg",p=n.p+"static/media/03n.6203670e.svg",f=n.p+"static/media/04d.24f9a474.svg",g=n.p+"static/media/04n.24f9a474.svg",O=n.p+"static/media/09d.130d6250.svg",v=n.p+"static/media/09n.130d6250.svg",x=n.p+"static/media/10d.8c33eccc.svg",S=n.p+"static/media/10n.8c33eccc.svg",y=n.p+"static/media/11d.19ff3c30.svg",w=n.p+"static/media/11n.19ff3c30.svg",N=n.p+"static/media/13d.dce3f5e7.svg",_=n.p+"static/media/13n.dce3f5e7.svg",k=n.p+"static/media/50d.6180d07b.svg",E=n.p+"static/media/50n.6180d07b.svg";var M=function(e){var t=e.details,n=Object(c.useState)(),a=Object(s.a)(n,2),i=(a[0],a[1],{S01d:l,S01n:u,S02d:h,S02n:j,S03d:b,S03n:p,S04d:f,S04n:g,S09d:O,S09n:v,S10d:x,S10n:S,S11d:y,S11n:w,S13d:N,S13n:_,S50d:k,S50n:E});return Object(o.jsxs)("div",{className:"dayz",children:[Object(o.jsxs)("p",{children:[t[Math.floor((t.length-1)/2)].main.temp,"\xb0 / ",t[0].main.temp,"\xb0"]}),Object(o.jsx)("img",{src:i["S"+t[Math.floor((t.length-1)/2)].weather[0].icon]}),Object(o.jsx)("p",{children:t[0].dt_txt.slice(5,10)})]})};var W=function(e){var t=e.today,n={S01d:l,S01n:u,S02d:h,S02n:j,S03d:b,S03n:p,S04d:f,S04n:g,S09d:O,S09n:v,S10d:x,S10n:S,S11d:y,S11n:w,S13d:N,S13n:_,S50d:k,S50n:E};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"today",children:t.map((function(e){return Object(o.jsxs)("div",{className:"dayCard",children:[Object(o.jsx)("img",{src:n["S"+e.weather[0].icon]}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:[e.main.temp,"\xb0"]}),Object(o.jsx)("h4",{children:e.weather[0].main}),Object(o.jsx)("p",{children:e.dt_txt.slice(10,16)})]}),Object(o.jsxs)("div",{className:"subInfo",children:[Object(o.jsxs)("p",{children:[t[0].main.temp,"\xb0 / ",t[t.length-1].main.temp,"\xb0"]}),Object(o.jsxs)("p",{children:["Humidity: ",e.main.humidity,"%"]}),Object(o.jsxs)("p",{children:["wind: ",e.wind.speed,"km/h"]})]})]})]},e.dt)}))})})},L=n.p+"static/media/celsius.60b97822.svg",I=n.p+"static/media/fahrenheit.1a81f20a.svg",C=a.a.memo((function(e){var t=Object(c.useState)(!0),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useRef)();Object(c.useLayoutEffect)((function(){r.current.scrollIntoView({behavior:"smooth",block:"start"})}),[]);for(var d=[],m=[],l=e.daysWeather[0].dt_txt.slice(8,11),u=0;u<e.daysWeather.length;u++)e.daysWeather[u].dt_txt.slice(8,11)===l||(d.push(m),m=[],l=e.daysWeather[u].dt_txt.slice(8,11)),m.push(e.daysWeather[u]);return d.push(m),d.map((function(e){return e.map((function(e){return a?(e.main.temp=Math.round(5*(e.main.temp-32)/9),e.main.temp_max=Math.round(5*(e.main.temp_max-32)/9),e.main.temp_min=Math.round(5*(e.main.temp_min-32)/9)):(e.main.temp=Math.round(9*e.main.temp/5+32),e.main.temp_max=Math.round(9*e.main.temp_max/5+32),e.main.temp_min=Math.round(9*e.main.temp_min/5+32)),e}))})),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"states",children:[Object(o.jsxs)("div",{className:"header",ref:r,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:e.country.name}),Object(o.jsx)("h3",{children:d[0][0].dt_txt.slice(5,10)})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:function(){return i(!a)},children:Object(o.jsx)("img",{src:a?L:I,className:"subSvg"})})})]}),Object(o.jsx)(W,{today:d[0],country:e.country}),d.slice(1).map((function(e){return Object(o.jsx)(M,{details:e},e[0].dt)}))]})})})),R=n(15),A=n.n(R),D=function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),d=Object(s.a)(r,2),o=d[0],m=d[1],l=Object(c.useState)(null),u=Object(s.a)(l,2),h=u[0],j=u[1];return Object(c.useEffect)((function(){j(!0),e||(j(!0),m(null),i(null));try{A.a.get(e).then((function(e){j(!1),m(null),i(e)})).catch((function(e){j(!1),m(e)}))}catch(t){j(!1),m(t)}}),[e]),{data:a,err:o,isLoading:h}},q=n(16),T=n(5);var U=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(s.a)(i,2),d=r[0],l=r[1],u=Object(c.useState)(""),h=Object(s.a)(u,2),j=h[0],b=h[1],p=Object(c.useState)([]),f=Object(s.a)(p,2),g=f[0],O=f[1],v=Object(c.useRef)();Object(c.useEffect)((function(){document.documentElement.className="theme-light",N()}),[]);var x=D("https://api.openweathermap.org/data/2.5/forecast?q=".concat(d,"&appid=").concat("3620601107f4d9544bfa64bd1c29b118")),S=x.data,y=x.err,w=x.isLoading;function N(){navigator.geolocation?navigator.geolocation.getCurrentPosition(_,k):b("Geolocation is not supported by this browser.")}function _(e){var t=T.filter((function(t){if(t.lat.slice(0,4)===e.coords.latitude.toString().slice(0,4)&&t.lng.slice(0,4)===e.coords.longitude.toString().slice(0,4))return t}));l(t[0].name)}function k(e){switch(e.code){case e.PERMISSION_DENIED:b("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:b("Location information is unavailable.");break;case e.TIMEOUT:b("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:b("An unknown error occurred.")}}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{children:"Weathery"}),Object(o.jsx)("a",{className:"copyright",target:"_blank",href:"https://github.com/mahmoud-irshaid",children:Object(o.jsx)("img",{src:"github.png"})})]}),Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)("h2",{children:"search by country"}),Object(o.jsx)(m,{findCity:function(e){e.preventDefault(),l(n),a(""),e.target.reset()},citySearch:function(e){O(function(e){var t;try{t=T.filter((function(t){var n=new RegExp("^".concat(e),"gi");return t.name.match(n)||t.country.match(n)}))}catch(n){alert("Enter country name correctly or not found")}0===e.length&&(t=[]);return t}(e.target.value)||[]),a(e.target.value)},getLocation:N,forwardedRef:v}),Object(o.jsx)("div",{className:"hints",children:g.map((function(e){return Object(o.jsx)("div",{onClick:function(e){l(e.target.id),O([]),v.current.value=""},children:Object(o.jsxs)("p",{id:e.name,children:[e.country,",",e.name]})})}))}),function(e,t,n){if(!t)return!e&&n?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"continuous-4"}),Object(o.jsx)("h5",{children:"Loading . . ."})]}):e?(e.data.list.map((function(e){return e.main.temp=Math.floor(9*(e.main.temp-273.15)/5+32),e.main.temp_max=Math.floor(9*(e.main.temp_max-273.15)/5+32),e.main.temp_min=Math.floor(9*(e.main.temp_min-273.15)/5+32),e})),Object(o.jsx)(q.ErrorBoundary,{fallback:Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"Error Detected"})}),children:Object(o.jsx)(C,{daysWeather:e.data.list,country:e.data.city})})):null}(S,y,w),j,function(){var e=(new Date).getHours();document.documentElement.className=e>=20||e<=8?"theme-dark":"theme-light"}()]}),Object(o.jsx)("a",{className:"copyright",target:"_blank",href:"https://github.com/mahmoud-irshaid",children:"\xa9 2021 Copyright by Mahmoud Irshaid"})]})};r.a.render(Object(o.jsx)(U,{}),document.getElementById("root")),"serviceWorker"in navigator?window.addEventListener("load",(function(){navigator.serviceWorker.register("serviceWorker.js").then((function(e){console.log("Worker registration successful",e.scope),window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault();var t=document.querySelector("button");t.removeAttribute("hidden"),t.addEventListener("click",(function(){e.prompt(),t.setAttribute("disabled",!0)}))}))}),(function(e){console.log("Worker registration failed",e)})).catch((function(e){console.log(e)}))})):console.log("Service Worker is not supported by browser.")}},[[40,1,2]]]);
//# sourceMappingURL=main.45f6cb87.chunk.js.map