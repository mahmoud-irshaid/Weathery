(this.webpackJsonpweathery=this.webpackJsonpweathery||[]).push([[0],{44:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),i=n(13),s=n.n(i),r=n(2),d=n.p+"static/media/gps.842bf24c.svg",o=n(0);var l=function(t){var e=t.findCity,n=t.citySearch,a=t.getLocation,c=t.forwardedRef;return Object(o.jsx)("form",{onSubmit:e,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",onChange:n,placeholder:"country name",ref:c}),Object(o.jsx)("input",{type:"submit"}),Object(o.jsx)("button",{onClick:a,children:Object(o.jsx)("img",{src:d,className:"subSvg"})})]})})},u=n(14),m=n(15),h=n(20),j=n(19),b=n.p+"static/media/01d.c33ef664.svg",p=n.p+"static/media/01n.6cf4adcd.svg",O=n.p+"static/media/02d.2164d3c4.svg",f=n.p+"static/media/02n.e2327d50.svg",g=n.p+"static/media/03d.6203670e.svg",v=n.p+"static/media/03n.6203670e.svg",x=n.p+"static/media/04d.24f9a474.svg",S=n.p+"static/media/04n.24f9a474.svg",y=n.p+"static/media/09d.130d6250.svg",N=n.p+"static/media/09n.130d6250.svg",w=n.p+"static/media/10d.8c33eccc.svg",k=n.p+"static/media/10n.8c33eccc.svg",_=n.p+"static/media/11d.19ff3c30.svg",E=n.p+"static/media/11n.19ff3c30.svg",M=n.p+"static/media/13d.dce3f5e7.svg",W=n.p+"static/media/13n.dce3f5e7.svg",L=n.p+"static/media/50d.6180d07b.svg",C=n.p+"static/media/50n.6180d07b.svg",I=function(t){Object(h.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={sub:!1},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this,e={S01d:b,S01n:p,S02d:O,S02n:f,S03d:g,S03n:v,S04d:x,S04n:S,S09d:y,S09n:N,S10d:w,S10n:k,S11d:_,S11n:E,S13d:M,S13n:W,S50d:L,S50n:C};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"dayz",onClick:function(){return t.setState({sub:!t.state.sub})},children:[Object(o.jsx)("p",{children:this.props.details[0].dt_txt.slice(5,10)}),Object(o.jsx)("img",{src:e["S"+this.props.details[Math.floor((this.props.details.length-1)/2)].weather[0].icon]}),Object(o.jsxs)("p",{children:[this.props.details[Math.floor((this.props.details.length-1)/2)].main.temp,"\xb0 / ",this.props.details[0].main.temp,"\xb0"]})]}),Object(o.jsx)("div",{className:"subdayz",children:this.state.sub&&this.props.details.map((function(t){return Object(o.jsxs)("div",{className:"dayCard",children:[Object(o.jsx)("img",{src:e["S"+t.weather[0].icon]}),Object(o.jsx)("div",{className:"info",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:[t.main.temp,"\xb0"]}),Object(o.jsx)("p",{children:t.dt_txt.slice(10,16)})]})})]},t.dt)}))})]})}}]),n}(a.Component);var R=function(t){var e=t.today,n={S01d:b,S01n:p,S02d:O,S02n:f,S03d:g,S03n:v,S04d:x,S04n:S,S09d:y,S09n:N,S10d:w,S10n:k,S11d:_,S11n:E,S13d:M,S13n:W,S50d:L,S50n:C};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"today",children:e.map((function(t){return Object(o.jsxs)("div",{className:"dayCard",children:[Object(o.jsx)("img",{src:n["S"+t.weather[0].icon]}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:[t.main.temp,"\xb0"]}),Object(o.jsx)("h4",{children:t.weather[0].main}),Object(o.jsx)("p",{children:t.dt_txt.slice(10,16)})]}),Object(o.jsxs)("div",{className:"subInfo",children:[Object(o.jsxs)("p",{children:["Humidity: ",t.main.humidity,"%"]}),Object(o.jsxs)("p",{children:[e[0].main.temp,"\xb0 / ",e[e.length-1].main.temp,"\xb0"]}),Object(o.jsxs)("p",{children:["wind: ",t.wind.speed,"km/h"]})]})]})]},t.dt)}))})})},A=n.p+"static/media/celsius.60b97822.svg",D=n.p+"static/media/fahrenheit.1a81f20a.svg",q=c.a.memo((function(t){var e=Object(a.useState)(!0),n=Object(r.a)(e,2),c=n[0],i=n[1],s=Object(a.useRef)();Object(a.useLayoutEffect)((function(){s.current.scrollIntoView({behavior:"smooth",block:"start"})}),[]);for(var d=[],l=[],u=t.daysWeather[0].dt_txt.slice(8,11),m=0;m<t.daysWeather.length;m++)t.daysWeather[m].dt_txt.slice(8,11)===u||(d.push(l),l=[],u=t.daysWeather[m].dt_txt.slice(8,11)),l.push(t.daysWeather[m]);return d.push(l),d.map((function(t){return t.map((function(t){return c?(t.main.temp=Math.round(5*(t.main.temp-32)/9),t.main.temp_max=Math.round(5*(t.main.temp_max-32)/9),t.main.temp_min=Math.round(5*(t.main.temp_min-32)/9)):(t.main.temp=Math.round(9*t.main.temp/5+32),t.main.temp_max=Math.round(9*t.main.temp_max/5+32),t.main.temp_min=Math.round(9*t.main.temp_min/5+32)),t}))})),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"states",children:[Object(o.jsxs)("div",{className:"header",ref:s,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:t.country.name}),Object(o.jsx)("h3",{children:d[0][0].dt_txt.slice(5,10)})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:function(){return i(!c)},children:Object(o.jsx)("img",{src:c?A:D,className:"subSvg"})})})]}),Object(o.jsx)(R,{today:d[0],country:t.country}),d.slice(1).map((function(t){return Object(o.jsx)(I,{details:t},t[0].dt)}))]})})})),F=n(16),J=n.n(F),T=function(t){var e=Object(a.useState)(null),n=Object(r.a)(e,2),c=n[0],i=n[1],s=Object(a.useState)(null),d=Object(r.a)(s,2),o=d[0],l=d[1],u=Object(a.useState)(null),m=Object(r.a)(u,2),h=m[0],j=m[1];return Object(a.useEffect)((function(){j(!0),t||(j(!0),l(null),i(null));try{J.a.get(t).then((function(t){if(j(!1),l(null),null!=t){var e=JSON.parse(JSON.stringify(t));e.data.list.map((function(t){return t.main.temp=Math.floor(9*(t.main.temp-273.15)/5+32),t.main.temp_max=Math.floor(9*(t.main.temp_max-273.15)/5+32),t.main.temp_min=Math.floor(9*(t.main.temp_min-273.15)/5+32),t})),i(e)}})).catch((function(t){j(!1),l(t)}))}catch(e){j(!1),l(e)}}),[t]),{data:c,err:o,isLoading:h}},U=n(18),B=n(17),P=c.a.memo((function(t){var e="3620601107f4d9544bfa64bd1c29b118",n=Object(a.useState)(""),c=Object(r.a)(n,2),i=c[0],s=c[1],d=Object(a.useState)(""),u=Object(r.a)(d,2),m=u[0],h=u[1],j=Object(a.useState)(""),b=Object(r.a)(j,2),p=b[0],O=b[1],f=Object(a.useState)([]),g=Object(r.a)(f,2),v=g[0],x=g[1],S=Object(a.useState)(),y=Object(r.a)(S,2),N=y[0],w=y[1],k=Object(a.useState)(),_=Object(r.a)(k,2),E=_[0],M=_[1],W=Object(a.useState)(!0),L=Object(r.a)(W,2),C=L[0],I=L[1],R=Object(a.useRef)(),A=T("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(N,"&lon=").concat(E,"&appid=").concat(e)),D=A.data,F=A.err,J=A.isLoading,P=T("https://api.openweathermap.org/data/2.5/forecast?q=".concat(m,"&appid=").concat(e)),z=P.data,G=P.err,H=P.isLoading;Object(a.useEffect)((function(){document.documentElement.className="theme-light",K()}),[]);var V=function(t,e,n){if(!e)return!t&&n?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"continuous-4"}),Object(o.jsx)("h5",{children:"Loading . . ."})]}):t?Object(o.jsx)(U.ErrorBoundary,{fallback:Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"Error Detected"})}),children:Object(o.jsx)(q,{daysWeather:t.data.list,country:t.data.city})}):null};var K=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(Q,X):O("Geolocation is not supported by this browser.")};function Q(t){N===t.coords.latitude.toString()&&E===t.coords.longitude.toString()&&(w((function(t){return""})),M((function(t){return""}))),w(t.coords.latitude.toString()),M(t.coords.longitude.toString()),I(!0)}function X(t){switch(t.code){case t.PERMISSION_DENIED:O("User denied the request for Geolocation.");break;case t.POSITION_UNAVAILABLE:O("Location information is unavailable.");break;case t.TIMEOUT:O("The request to get user location timed out.");break;case t.UNKNOWN_ERROR:O("An unknown error occurred.")}}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{children:"Weathery"}),Object(o.jsx)("a",{className:"copyright",target:"_blank",href:"https://github.com/mahmoud-irshaid",children:Object(o.jsx)("img",{src:"github.png"})})]}),Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)("h2",{children:"search by country"}),Object(o.jsx)(l,{findCity:function(t){t.preventDefault(),h(i),s(""),t.target.reset(),x([]),R.current.value="",I(!1)},citySearch:function(t){s(t.target.value),x(function(t){var e;try{e=B.filter((function(e){var n=new RegExp("^".concat(t),"gi");return e.name.match(n)||e.country.match(n)}))}catch(n){alert("Enter country name correctly or not found")}0===t.length&&(e=[]);return e}(t.target.value)||[])},getLocation:K,forwardedRef:R}),Object(o.jsx)("div",{className:"hints",children:v.map((function(t){return Object(o.jsx)("div",{onClick:function(t){x([]),s(""),R.current.value="",I(!1),h(t.target.id)},children:Object(o.jsxs)("p",{id:t.name,children:[t.country,",",t.name]})})}))}),C?V(D,F,J):V(z,G,H),p,function(){var t=(new Date).getHours();document.documentElement.className=t>=20||t<=8?"theme-dark":"theme-light"}()]}),Object(o.jsx)("a",{className:"copyright",target:"_blank",href:"https://github.com/mahmoud-irshaid",children:"\xa9 2021 Copyright by Mahmoud Irshaid"})]})}));s.a.render(Object(o.jsx)(P,{}),document.getElementById("root")),"serviceWorker"in navigator?window.addEventListener("load",(function(){navigator.serviceWorker.register("serviceWorker.js").then((function(t){console.log("Worker registration successful",t.scope),window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault();var e=document.querySelector("button");e.removeAttribute("hidden"),e.addEventListener("click",(function(){t.prompt(),e.setAttribute("disabled",!0)}))}))}),(function(t){console.log("Worker registration failed",t)})).catch((function(t){console.log(t)}))})):console.log("Service Worker is not supported by browser.")}},[[44,1,2]]]);
//# sourceMappingURL=main.47622716.chunk.js.map